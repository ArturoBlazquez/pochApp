<nz-card nzTitle="{{ 'results.hand' | translate: { handNumber: gameStore.getCurrentHandNumber() } }}">
  <nz-space nzDirection="vertical" style="width:100%">
    <span>{{ 'hands.dealer' | translate: { dealer: gameStore.getCurrentDealer(), numTricks: gameStore.getCurrentNumTricks() } }}</span>

    <nz-list>
      @for (bid of gameStore.getCurrentHand().bids; track $index) {
        <nz-list-item>
          <nz-avatar nzText="{{ gameStore.players()[$index][0] }}"></nz-avatar>
          <span style="flex:1; margin-left:12px">{{ gameStore.players()[$index] }}</span>

          <button nz-button nzType="link" [disabled]="bid.actual <= 0" (click)="decrementActualBid($index)"><nz-icon nzType="minus-circle" /></button>
          <nz-input-number [ngModel]="bid.actual" (ngModelChange)="updateActualBid($index, $event)" [nzMin]="0" [nzMax]="gameStore.getCurrentNumTricks()" [nzControls]="false">
            <span nzInputSuffix nz-typography nzType="secondary">/ {{ bid.predicted }}</span>
          </nz-input-number>
          <button nz-button nzType="link" [disabled]="bid.actual >= gameStore.getCurrentNumTricks()" (click)="incrementActualBid($index)"><nz-icon nzType="plus-circle" /></button>

          <nz-tag [nzColor]="preview(bid) >= 0 ? 'green' : 'red'">
            {{preview(bid) >= 0 ? '+' : ''}}{{ preview(bid) }}
          </nz-tag>
        </nz-list-item>
      }
    </nz-list>

    <span>{{ 'total.predicted.tricks' | translate }}: {{getTotalActualTricks()}}</span>

    <button nz-button nzBlock (click)="back.emit()">
      <nz-icon nzType="arrow-left" /><span>{{ 'back' | translate }}</span>
    </button>
    <button nz-button nzType="primary" nzBlock [disabled]="getTotalActualTricks() !== gameStore.getCurrentNumTricks()" (click)="next.emit()">
      <span>{{ 'next' | translate }}</span><nz-icon nzType="arrow-right" />
    </button>
  </nz-space>
</nz-card>
